{"ast":null,"code":"import _classCallCheck from\"C:/Users/kenny/Projects/DRF_React_YouPost/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/kenny/Projects/DRF_React_YouPost/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/kenny/Projects/DRF_React_YouPost/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/kenny/Projects/DRF_React_YouPost/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import DarkContext from\"../../context/darkMode\";import{Link,withRouter}from\"react-router-dom\";import axios from\"axios\";import apiURL from\"../../apiUrl\";import axiosInstance from\"./../../baseAxios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=/*#__PURE__*/function(_Component){_inherits(SearchBar,_Component);var _super=_createSuper(SearchBar);function SearchBar(){var _this;_classCallCheck(this,SearchBar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={searchValue:\"\",searchResults:[]};_this.handleChange=function(e){e.preventDefault();_this.setState({searchValue:e.target.value});if(e.target.value!==\"\"){axiosInstance.get(\"search/?search=\"+e.target.value).then(function(res){_this.setState({searchResults:res.data});});}};_this.goSearch=function(e){e.preventDefault();if(_this.state.searchValue){_this.props.history.push({pathname:\"/search/\",search:\"?search= \"+_this.state.searchValue});window.location.reload();}};return _this;}_createClass(SearchBar,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,searchResults=_this$state.searchResults,searchValue=_this$state.searchValue;return/*#__PURE__*/_jsx(DarkContext.Consumer,{children:function children(darkContext){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form-inline searchbar\",onSubmit:_this2.goSearch,children:[/*#__PURE__*/_jsx(\"input\",{className:darkContext.darkMode?\"form-control bg-dark text-light\":\"form-control\",type:\"search\",placeholder:\"Search\",\"aria-label\":\"Search\",onChange:_this2.handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"90%\",margin:\"0rem auto\"},children:/*#__PURE__*/_jsx(\"ul\",{className:\"posts-results-on-change list-group list-group-flush dark-page-shadow\",children:searchResults&&searchValue?searchResults.map(function(post){return/*#__PURE__*/_jsxs(\"li\",{className:darkContext.darkMode?\"list-group-item bg-dark text-light\":\"list-group-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search-plus\"}),/*#__PURE__*/_jsx(\"p\",{children:post.title})]},post.id);}):\"\"})})]});}});}}]);return SearchBar;}(Component);export default withRouter(SearchBar);","map":{"version":3,"sources":["C:/Users/kenny/Projects/drf_react_youpost/src/components/actions/searchBar.jsx"],"names":["React","Component","DarkContext","Link","withRouter","axios","apiURL","axiosInstance","SearchBar","state","searchValue","searchResults","handleChange","e","preventDefault","setState","target","value","get","then","res","data","goSearch","props","history","push","pathname","search","window","location","reload","darkContext","darkMode","width","margin","map","post","title","id"],"mappings":"gnBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,mBAA1B,C,2FAEMC,CAAAA,S,uUACJC,K,CAAQ,CACNC,WAAW,CAAE,EADP,CAENC,aAAa,CAAE,EAFT,C,OAORC,Y,CAAe,SAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GAEA,MAAKC,QAAL,CAAc,CAAEL,WAAW,CAAEG,CAAC,CAACG,MAAF,CAASC,KAAxB,CAAd,EAEA,GAAIJ,CAAC,CAACG,MAAF,CAASC,KAAT,GAAmB,EAAvB,CAA2B,CACzBV,aAAa,CAACW,GAAd,CAAkB,kBAAoBL,CAAC,CAACG,MAAF,CAASC,KAA/C,EAAsDE,IAAtD,CAA2D,SAACC,GAAD,CAAS,CAClE,MAAKL,QAAL,CAAc,CAAEJ,aAAa,CAAES,GAAG,CAACC,IAArB,CAAd,EACD,CAFD,EAGD,CACF,C,OAEDC,Q,CAAW,SAACT,CAAD,CAAO,CAChBA,CAAC,CAACC,cAAF,GACA,GAAI,MAAKL,KAAL,CAAWC,WAAf,CAA4B,CAC1B,MAAKa,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,CACtBC,QAAQ,CAAE,UADY,CAEtBC,MAAM,CAAE,YAAc,MAAKlB,KAAL,CAAWC,WAFX,CAAxB,EAKAkB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACF,C,sEAxBD,4BAAoB,CAAE,C,sBA0BtB,iBAAS,iBACP,gBAAuC,KAAKrB,KAA5C,CAAQE,aAAR,aAAQA,aAAR,CAAuBD,WAAvB,aAAuBA,WAAvB,CAEA,mBACE,KAAC,WAAD,CAAa,QAAb,WACG,kBAACqB,WAAD,qBACC,MAAC,KAAD,CAAO,QAAP,yBACE,cAAM,SAAS,CAAC,uBAAhB,CAAwC,QAAQ,CAAE,MAAI,CAACT,QAAvD,wBACE,cACE,SAAS,CACPS,WAAW,CAACC,QAAZ,CACI,iCADJ,CAEI,cAJR,CAME,IAAI,CAAC,QANP,CAOE,WAAW,CAAC,QAPd,CAQE,aAAW,QARb,CASE,QAAQ,CAAE,MAAI,CAACpB,YATjB,EADF,cAYE,eAAQ,SAAS,CAAC,yBAAlB,CAA4C,IAAI,CAAC,QAAjD,oBAZF,GADF,cAiBE,YAAK,KAAK,CAAE,CAAEqB,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,WAAxB,CAAZ,uBACE,WAAI,SAAS,CAAC,sEAAd,UACGvB,aAAa,EAAID,WAAjB,CACGC,aAAa,CAACwB,GAAd,CAAkB,SAACC,IAAD,qBAChB,YACE,SAAS,CACPL,WAAW,CAACC,QAAZ,CACI,oCADJ,CAEI,iBAJR,wBAQE,UAAG,SAAS,CAAC,oBAAb,EARF,cASE,mBAAII,IAAI,CAACC,KAAT,EATF,GAMOD,IAAI,CAACE,EANZ,CADgB,EAAlB,CADH,CAcG,EAfN,EADF,EAjBF,GADD,EADH,EADF,CA2CD,C,uBA9EqBrC,S,EAiFxB,cAAeG,CAAAA,UAAU,CAACI,SAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\r\nimport DarkContext from \"../../context/darkMode\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport apiURL from \"../../apiUrl\";\r\nimport axiosInstance from \"./../../baseAxios\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searchValue: \"\",\r\n    searchResults: [],\r\n  };\r\n\r\n  componentDidMount() {}\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ searchValue: e.target.value });\r\n\r\n    if (e.target.value !== \"\") {\r\n      axiosInstance.get(\"search/?search=\" + e.target.value).then((res) => {\r\n        this.setState({ searchResults: res.data });\r\n      });\r\n    }\r\n  };\r\n\r\n  goSearch = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.searchValue) {\r\n      this.props.history.push({\r\n        pathname: \"/search/\",\r\n        search: \"?search= \" + this.state.searchValue,\r\n      });\r\n\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { searchResults, searchValue } = this.state;\r\n\r\n    return (\r\n      <DarkContext.Consumer>\r\n        {(darkContext) => (\r\n          <React.Fragment>\r\n            <form className=\"form-inline searchbar\" onSubmit={this.goSearch}>\r\n              <input\r\n                className={\r\n                  darkContext.darkMode\r\n                    ? \"form-control bg-dark text-light\"\r\n                    : \"form-control\"\r\n                }\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                aria-label=\"Search\"\r\n                onChange={this.handleChange}\r\n              />\r\n              <button className=\"btn btn-outline-success\" type=\"submit\">\r\n                Search\r\n              </button>\r\n            </form>\r\n            <div style={{ width: \"90%\", margin: \"0rem auto\" }}>\r\n              <ul className=\"posts-results-on-change list-group list-group-flush dark-page-shadow\">\r\n                {searchResults && searchValue\r\n                  ? searchResults.map((post) => (\r\n                      <li\r\n                        className={\r\n                          darkContext.darkMode\r\n                            ? \"list-group-item bg-dark text-light\"\r\n                            : \"list-group-item\"\r\n                        }\r\n                        key={post.id}\r\n                      >\r\n                        <i className=\"fas fa-search-plus\"></i>\r\n                        <p>{post.title}</p>\r\n                      </li>\r\n                    ))\r\n                  : \"\"}\r\n              </ul>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n      </DarkContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchBar);\r\n"]},"metadata":{},"sourceType":"module"}